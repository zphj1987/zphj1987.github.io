# lustre架构体系

## 服务角色

```bash
+----------------+   +----------------+   +----------------+
|                |   |                |   |                |
|                |   |                |   |                |
|    MGS节点      |   |     MDS节点    |   |     OSD节点     |
|                |   |                |   |                |
|                |   |                |   |                |
+------+---------+   +-------+--------+   +--------+-------+
       ^                     ^                     ^
       |                     |                     |
       |                     |                     |
       |                     |                     |
       |            +--------+---------+           |
       |            |                  |           |
       |            |                  |           |
       +----------> |     Client节点    | <---------+
                    |                  |
                    |                  |
                    +------------------+
```

## 数据路径

数据因为副本1，所以数据是直接跟给节点交互的，节点之间默认是没有交互的,只有客户端跟服务端的交互
数据的冗余是在主机上面做的，可以通过raid或者zfs来做冗余


## 节点结构 
```bash
+-----------------+   +-----------------+   +-----------------+
|                 |   |                 |   |                 |
|      zfspool    |   |      zfspool    |   |     zfspool     |
|                 |   |                 |   |                 |
+-----------------+   +-----------------+   +-----------------+
|                 |   |                 |   |                 |
|     mgs服务      |   |      mds服务    |   |     osd服务      |
+-----------------+   +-----------------+   +-----------------+
```
三个服务端的服务的数据都是放在zfs里面的
