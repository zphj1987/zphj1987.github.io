"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3972],{3905:(e,c,n)=>{n.d(c,{Zo:()=>f,kt:()=>l});var a=n(7294);function d(e,c,n){return c in e?Object.defineProperty(e,c,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[c]=n,e}function t(e,c){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);c&&(a=a.filter((function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var c=1;c<arguments.length;c++){var n=null!=arguments[c]?arguments[c]:{};c%2?t(Object(n),!0).forEach((function(c){d(e,c,n[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(n,c))}))}return e}function o(e,c){if(null==e)return{};var n,a,d=function(e,c){if(null==e)return{};var n,a,d={},t=Object.keys(e);for(a=0;a<t.length;a++)n=t[a],c.indexOf(n)>=0||(d[n]=e[n]);return d}(e,c);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)n=t[a],c.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(d[n]=e[n])}return d}var p=a.createContext({}),s=function(e){var c=a.useContext(p),n=c;return e&&(n="function"==typeof e?e(c):r(r({},c),e)),n},f=function(e){var c=s(e.components);return a.createElement(p.Provider,{value:c},e.children)},b={inlineCode:"code",wrapper:function(e){var c=e.children;return a.createElement(a.Fragment,{},c)}},i=a.forwardRef((function(e,c){var n=e.components,d=e.mdxType,t=e.originalType,p=e.parentName,f=o(e,["components","mdxType","originalType","parentName"]),i=s(n),l=d,h=i["".concat(p,".").concat(l)]||i[l]||b[l]||t;return n?a.createElement(h,r(r({ref:c},f),{},{components:n})):a.createElement(h,r({ref:c},f))}));function l(e,c){var n=arguments,d=c&&c.mdxType;if("string"==typeof e||d){var t=n.length,r=new Array(t);r[0]=i;var o={};for(var p in c)hasOwnProperty.call(c,p)&&(o[p]=c[p]);o.originalType=e,o.mdxType="string"==typeof e?e:d,r[1]=o;for(var s=2;s<t;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}i.displayName="MDXCreateElement"},7219:(e,c,n)=>{n.r(c),n.d(c,{assets:()=>p,contentTitle:()=>r,default:()=>b,frontMatter:()=>t,metadata:()=>o,toc:()=>s});var a=n(7462),d=(n(7294),n(3905));const t={},r="ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6",o={unversionedId:"\u5b58\u50a8\u76f8\u5173\u6280\u672f/ceph\u76f8\u5173\u6280\u672f/ceph\u7edf\u8ba1\u4fe1\u606f/ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6",id:"\u5b58\u50a8\u76f8\u5173\u6280\u672f/ceph\u76f8\u5173\u6280\u672f/ceph\u7edf\u8ba1\u4fe1\u606f/ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6",title:"ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6",description:"\u9700\u6c42",source:"@site/docs/\u5b58\u50a8\u76f8\u5173\u6280\u672f/ceph\u76f8\u5173\u6280\u672f/ceph\u7edf\u8ba1\u4fe1\u606f/ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6.md",sourceDirName:"\u5b58\u50a8\u76f8\u5173\u6280\u672f/ceph\u76f8\u5173\u6280\u672f/ceph\u7edf\u8ba1\u4fe1\u606f",slug:"/\u5b58\u50a8\u76f8\u5173\u6280\u672f/ceph\u76f8\u5173\u6280\u672f/ceph\u7edf\u8ba1\u4fe1\u606f/ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6",permalink:"/docs/\u5b58\u50a8\u76f8\u5173\u6280\u672f/ceph\u76f8\u5173\u6280\u672f/ceph\u7edf\u8ba1\u4fe1\u606f/ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u7f16\u8bd1rock5b\u7684\u5185\u6838",permalink:"/docs/rock5b\u76f8\u5173/\u7f16\u8bd1rock5b\u7684\u5185\u6838"},next:{title:"\u83b7\u53d6\u4e00\u6bb5\u65f6\u95f4\u5185ceph osd\u7684\u78c1\u76d8\u8bfb\u5199\u60c5\u51b5",permalink:"/docs/\u5b58\u50a8\u76f8\u5173\u6280\u672f/ceph\u76f8\u5173\u6280\u672f/ceph\u7edf\u8ba1\u4fe1\u606f/\u83b7\u53d6\u4e00\u6bb5\u65f6\u95f4\u5185ceph osd\u7684\u78c1\u76d8\u8bfb\u5199\u60c5\u51b5"}},p={},s=[{value:"\u9700\u6c42",id:"\u9700\u6c42",level:2},{value:"\u5b9e\u73b0",id:"\u5b9e\u73b0",level:2},{value:"\u6548\u679c",id:"\u6548\u679c",level:2}],f={toc:s};function b(e){let{components:c,...n}=e;return(0,d.kt)("wrapper",(0,a.Z)({},f,n,{components:c,mdxType:"MDXLayout"}),(0,d.kt)("h1",{id:"ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6"},"ceph\u7684\u8bbe\u5907\u5173\u7cfb\u83b7\u53d6"),(0,d.kt)("h2",{id:"\u9700\u6c42"},"\u9700\u6c42"),(0,d.kt)("p",null,"\u56e0\u4e3aceph\u91c7\u7528\u7684\u662flvm\u7ba1\u7406\uff0c\u78c1\u76d8\u5bf9\u5e94\u5173\u7cfb\u627e\u8d77\u6765\u6ca1\u6709\u4ee5\u524d\u65b9\u4fbf\uff0c\u6240\u4ee5\u7528\u4e00\u4e2a\u811a\u672c\u628a\u5f53\u524d\u673a\u5668\u7684\u5bf9\u5e94\u5173\u7cfb\u5217\u51fa\u6765"),(0,d.kt)("h2",{id:"\u5b9e\u73b0"},"\u5b9e\u73b0"),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-bash"},"[root@node235 ceph]# cat get.sh \n#! /bin/bash\nIFS=$'\\n\\n' \nfor osd in `ceph osd dump|grep osd|grep -v req|grep -v max|awk '{print $1,$19}'`\ndo \n\nosdnum=`echo  $osd|awk '{print $1}'`\nosdid=`echo  $osd|awk '{print $2}'`\nvgname=`lvdisplay |grep $osdid -A 1|tail  -n 1|awk '{print $3}'`\npvname=`pvdisplay |grep $vgname -B1|head -n 1|awk '{print $3}'`\n\necho $osdnum  $osdid  $vgname  $pvname\n\ndone\n\n")),(0,d.kt)("h2",{id:"\u6548\u679c"},"\u6548\u679c"),(0,d.kt)("p",null,"\u9700\u8981\u7528bash\u547d\u4ee4\u8fd0\u884c"),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-bash"},"[root@node235 ceph]# bash get.sh \nosd.0 c40d9963-4894-42bd-a7a8-c9d8c3280e9f ceph-f0f4f8ce-8d02-4111-97bd-fae7ff20a961 /dev/sdd1\nosd.1 c4b7f141-51a0-4b97-80b5-e9681025f7db ceph-f786b5a2-82f4-4086-b0d1-7f5e6787c421 /dev/sdc1\nosd.2 24f68dd2-5a4f-4b41-8775-ae0211a06e5d ceph-07e22954-93d0-4bb1-9ce3-59485eab1673 /dev/sdi1\nosd.3 deed6a2e-456f-40be-bade-07a4b358e2c1 ceph-f1f76e61-d0d6-447b-ac26-a9a2d7fd2d5d /dev/sds1\nosd.4 f325a546-a6c7-4610-9916-31062ec6decc ceph-5c1357a5-036a-4f2e-83a8-4463e4349264 /dev/sdf1\nosd.5 3790748f-f212-4d46-8b72-b6c9ba007019 ceph-9874a1ac-9163-4936-a2f9-976260f19d6d /dev/sdr1\nosd.6 50140786-a01d-47c4-bca4-68ad7730863c ceph-0e4af92c-9766-467c-a7d5-db4435aadd6b /dev/sdk1\nosd.7 5e56f9a0-7637-477a-95cf-b995987e6270 ceph-c0de6d4b-1907-49d7-aa9b-194ccbc72465 /dev/sdb1\nosd.8 261ea9d8-581b-42ec-9493-1df7b74394b7 ceph-54946fde-edc4-4cf1-b59a-375d69bfff7a /dev/sdm1\nosd.9 a4212438-e463-48f3-be58-7668df524c35 ceph-805428c1-077c-4092-80f5-95b0ac9f5ea5 /dev/sdh1\nosd.10 ebfb8caf-a3e6-4715-b992-9ca560104c4e ceph-7e9809bf-c4c0-4686-84f6-4e8639f02dac /dev/sde1\nosd.11 7c310379-994d-4faa-9724-1ec1bf6d85bd ceph-3b602d70-99d0-496e-8b96-c34b36d973bc /dev/sdo1\nosd.12 cd608ef9-d491-4d09-8f7f-ac82e026b321 ceph-2a8d2275-d307-41ab-9125-17dbe610559a /dev/sdg1\nosd.14 782cb3ed-9fcd-40aa-9db3-1cd7babda3fb ceph-9117f02b-c6a0-43a0-ac3f-c0af75381c5f /dev/sdq1\nosd.15 77275ae5-d953-44fc-8196-d6b31e005fb3 ceph-c30f789a-3213-49ce-8831-2296e5697119 /dev/sdp1\nosd.16 1a325633-209d-4c3a-a89a-c90d6c26688f ceph-397d3bce-9f1a-4e33-9bd0-48f52804a7f6 /dev/sdj1\n")))}b.isMDXComponent=!0}}]);