"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8179],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>b});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=i.createContext({}),d=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=d(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,s=a(e,["components","mdxType","originalType","parentName"]),p=d(n),b=r,h=p["".concat(c,".").concat(b)]||p[b]||u[b]||l;return n?i.createElement(h,o(o({ref:t},s),{},{components:n})):i.createElement(h,o({ref:t},s))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=p;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:r,o[1]=a;for(var d=2;d<l;d++)o[d]=n[d];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7382:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>d});var i=n(7462),r=(n(7294),n(3905));const l={},o="AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838",a={unversionedId:"\u786c\u4ef6\u7bc7/AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838",id:"\u786c\u4ef6\u7bc7/AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838",title:"AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838",description:"\u80cc\u666f",source:"@site/rk3588/\u786c\u4ef6\u7bc7/AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838.md",sourceDirName:"\u786c\u4ef6\u7bc7",slug:"/\u786c\u4ef6\u7bc7/AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838",permalink:"/rk3588/\u786c\u4ef6\u7bc7/AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ubuntu-server\u5b89\u88c5\u684c\u9762",permalink:"/rk3588/\u57fa\u7840\u7bc7/\u5b89\u88c5\u7cfb\u7edf/ubuntu-server\u5b89\u88c5\u684c\u9762"},next:{title:"\u4f7f\u7528\u4e32\u53e3\u8fde\u63a5\u67e5\u770b\u542f\u52a8\u4fe1\u606f",permalink:"/rk3588/\u786c\u4ef6\u7bc7/\u4f7f\u7528\u4e32\u53e3\u8fde\u63a5\u67e5\u770b\u542f\u52a8\u4fe1\u606f"}},c={},d=[{value:"\u80cc\u666f",id:"\u80cc\u666f",level:2},{value:"\u9519\u8bef\u4fe1\u606f",id:"\u9519\u8bef\u4fe1\u606f",level:2},{value:"\u8bbe\u5907\u76f8\u5173\u4fe1\u606f",id:"\u8bbe\u5907\u76f8\u5173\u4fe1\u606f",level:2},{value:"AX210\u84dd\u7259\u4f7f\u7528\u60c5\u51b5",id:"ax210\u84dd\u7259\u4f7f\u7528\u60c5\u51b5",level:2},{value:"\u5185\u6838\u66ff\u6362",id:"\u5185\u6838\u66ff\u6362",level:3},{value:"\u5b89\u88c5\u5185\u6838",id:"\u5b89\u88c5\u5185\u6838",level:4},{value:"\u589e\u52a0sfi\u6587\u4ef6\u548cddc\u6587\u4ef6",id:"\u589e\u52a0sfi\u6587\u4ef6\u548cddc\u6587\u4ef6",level:4},{value:"\u6b63\u5e38\u542f\u52a8\u65e5\u5fd7",id:"\u6b63\u5e38\u542f\u52a8\u65e5\u5fd7",level:3},{value:"\u84dd\u7259\u4f7f\u7528\u4f53\u9a8c",id:"\u84dd\u7259\u4f7f\u7528\u4f53\u9a8c",level:2},{value:"\u84dd\u7259\u5f53\u524d\u786e\u8ba4\u6d4b\u8bd5\u53ef\u4ee5\u7684\u529f\u80fd",id:"\u84dd\u7259\u5f53\u524d\u786e\u8ba4\u6d4b\u8bd5\u53ef\u4ee5\u7684\u529f\u80fd",level:2},{value:"\u76f8\u5173\u8d44\u6e90",id:"\u76f8\u5173\u8d44\u6e90",level:2},{value:"patch\u6587\u4ef6",id:"patch\u6587\u4ef6",level:3},{value:"\u6216\u8005\u76f4\u63a5\u4e0b\u8f7d\u6211\u7684\u5206\u652f",id:"\u6216\u8005\u76f4\u63a5\u4e0b\u8f7d\u6211\u7684\u5206\u652f",level:3},{value:"\u6216\u8005\u7528\u6211\u6253\u597d\u7684\u5185\u6838deb\u6587\u4ef6\u5982\u4e0b",id:"\u6216\u8005\u7528\u6211\u6253\u597d\u7684\u5185\u6838deb\u6587\u4ef6\u5982\u4e0b",level:3},{value:"\u6392\u9519\u6307\u5357",id:"\u6392\u9519\u6307\u5357",level:2},{value:"\u9519\u8bef\uff1aReading Intel version information failed",id:"\u9519\u8befreading-intel-version-information-failed",level:3},{value:"\u9519\u8bef\uff1a Direct firmware load for intel/ibt-0041-0041.sfi failed with error -2",id:"\u9519\u8bef-direct-firmware-load-for-intelibt-0041-0041sfi-failed-with-error--2",level:3},{value:"\u9519\u8bef\uff1aBluetooth: hci0: Failed to load Intel DDC file intel/ibt-0041-0041.ddc (-2)",id:"\u9519\u8befbluetooth-hci0-failed-to-load-intel-ddc-file-intelibt-0041-0041ddc--2",level:2}],s={toc:d};function u(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,i.Z)({},s,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"ax210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838"},"AX210\u84dd\u7259\u8bc6\u522b\u53ef\u7528rock5b\u5185\u6838"),(0,r.kt)("h2",{id:"\u80cc\u666f"},"\u80cc\u666f"),(0,r.kt)("p",null,"AX210\u662fintel\u7684\u4e00\u4e2awifi\u548c\u84dd\u7259\u4e00\u8d77\u7684\u6a21\u5757\uff0c\u8fd9\u4e2a\u5c0f\u7684\u6a21\u5757\u4e00\u822c\u662f\u5728\u7b14\u8bb0\u672c\u91cc\u9762\u7684\uff0crock5b\u4e0a\u9762\u7684\u63a5\u53e3\u662f\u652f\u6301\u8fd9\u4e2a\u6a21\u5757\u7684\nAX210\u56e0\u4e3a\u6bd4\u8f83\u65b0\uff0c\u6240\u4ee5wifi\u7684\u652f\u6301\u57285.10\u5185\u6838\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u4f46\u84dd\u7259\u5728\u8fd9\u4e2a\u4e0a\u9762\u5c31\u65e0\u6cd5\u542f\u52a8\u4e86\uff0c\u62a5\u4e0b\u9762\u7684\u9519\u8bef\uff0c\u8fd9\u4e2a\u9519\u8bef\u5728\u7f51\u4e0a\u770b\u5230\u5f88\u591a\u5305\u62ecX86\u4e0b\u9762\u7684\u5185\u6838\u4e0a\u9762\u4e5f\u51fa\u73b0\u4e86\uff0c\u57fa\u672c\u4e0a\u5c31\u662f\u9a71\u52a8\u76f8\u5173\u7684\u95ee\u9898\uff0c\u7136\u540ekernel\u5b98\u65b9\u4e3b\u7ebf\u5185\u6838\u76845.10.155\u4e5f\u6ca1\u6709\u5408\u5165\u76f8\u5173\u7684\u652f\u6301\uff0c\u6ca1\u6709\u505a\u4f4e\u7248\u672c\u5185\u6838\u7684backport\uff08\u5176\u5b9e\u6539\u52a8\u91cf\u4e5f\u4e0d\u5927\uff0c\u5c31\u662f\u65b0\u589e\u7684\uff09\uff0crock5b\u76845.10\u5185\u6838\u4e5f\u81ea\u7136\u5c31\u4e0d\u652f\u6301\u8fd9\u4e2a\u84dd\u7259\u4e86"),(0,r.kt)("p",null,"\u5f00\u59cb\u7684\u65f6\u5019\u6253\u7b97\u6574\u4e2abluetooth\u76ee\u5f55\u66ff\u6362\uff0c\u53d1\u73b0\u7f16\u8bd1\u4e0d\u8fc7\u53bb\uff0c\u5185\u6838\u540e\u6765\u7684\u7248\u672c\u53ef\u80fd\u8fd8\u6539\u4e86\u5176\u5b83\u4e1c\u897f\uff0c\u6700\u540e\u8fd8\u662f\u53ea\u628a\u76f8\u5173\u7684\u6539\u52a8\u5f04\u52305.10\u4e0a\u9762\u6765\uff0c\u6539\u52a8\u8fd8\u597d\u4e0d\u662f\u5f88\u5927\uff0c\u8fd9\u4e2a\u5730\u65b9\u8bbe\u8ba1\u7684\u6bd4\u8f83\u597d\u7684\u5c31\u662f\u53ea\u662f\u65b0\u589e\u4e86\u76f8\u5173\u7684\u51fd\u6570\uff0c\u6240\u4ee5\u4e5f\u57fa\u672c\u4e0a\u5bf9\u5176\u5b83\u7684\u84dd\u7259\u529f\u80fd\u6ca1\u5f71\u54cd\u7684"),(0,r.kt)("h2",{id:"\u9519\u8bef\u4fe1\u606f"},"\u9519\u8bef\u4fe1\u606f"),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u9519\u8bef\uff0c\u7f51\u4e0a\u5173\u952e\u5b57\u5f88\u591a\uff0c\u5c31\u662fwifi\u53ef\u7528\uff0c\u84dd\u7259\u4e0d\u53ef\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[   46.734253] Bluetooth: hci0: Reading Intel version information failed (-22)\n[   46.734305] Bluetooth: hci0: Intel Read version failed (-22)\n")),(0,r.kt)("h2",{id:"\u8bbe\u5907\u76f8\u5173\u4fe1\u606f"},"\u8bbe\u5907\u76f8\u5173\u4fe1\u606f"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"3EA36E43838FFF77E315DE65AD2BD8FD",src:n(524).Z,width:"4032",height:"3024"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"QQ20221125-0",src:n(9747).Z,width:"4032",height:"3024"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"root@rock-5b:/home/rock/Pictures# lsusb\nBus 006 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\nBus 005 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 008 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\nBus 007 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 001 Device 004: ID 8087:0032 Intel Corp.\nBus 001 Device 002: ID 1a40:0101 Terminus Technology Inc. Hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n")),(0,r.kt)("p",null,"\u4e0a\u9762\u7684Bus 001 Device 004: ID 8087:0032 Intel Corp.\u8fd9\u4e2a\u5c31\u662fAX210\u7684\u8bbe\u5907\uff0c\u8fd9\u4e2a8087:0032\u662f\u56fa\u5b9a\u7684\u8bbe\u5907id"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"root@rock-5b:/home/rock/Pictures# lspci\n0002:20:00.0 PCI bridge: Fuzhou Rockchip Electronics Co., Ltd Device 3588 (rev 01)\n0002:21:00.0 Network controller: Intel Corporation Device 2725 (rev 1a)\n0004:40:00.0 PCI bridge: Fuzhou Rockchip Electronics Co., Ltd Device 3588 (rev 01)\n0004:41:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8125 2.5GbE Controller (rev 04)\n")),(0,r.kt)("p",null,"\u4e0a\u9762\u7684Network controller: Intel Corporation Device 2725\u8fd9\u4e2a\u4e5f\u662fAX210\u7684\u8bbe\u5907id"),(0,r.kt)("h2",{id:"ax210\u84dd\u7259\u4f7f\u7528\u60c5\u51b5"},"AX210\u84dd\u7259\u4f7f\u7528\u60c5\u51b5"),(0,r.kt)("p",null,"windows\u4e0a\u9762\u7684\u84dd\u7259\u7528\u8fc7\uff0c\u611f\u89c9\u529f\u80fd\u6bd4\u8f83\u7b80\u5355\uff0clinux\u4e0b\u6ca1\u7528\u8fc7\uff0c\u4e0b\u9762\u5c31\u8bb0\u5f55\u4e0b\u4e00\u4e9b\u529f\u80fd\uff0c\u6211\u7684\u7cfb\u7edf\u5b89\u88c5\u7684\u662f\u5b98\u65b9\u63d0\u4f9b\u7684ubuntu"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/radxa/debos-radxa/releases/download/20221031-1045/rock-5b-ubuntu-focal-server-arm64-20221031-1328-gpt.img.xz"},"https://github.com/radxa/debos-radxa/releases/download/20221031-1045/rock-5b-ubuntu-focal-server-arm64-20221031-1328-gpt.img.xz"))),(0,r.kt)("p",null,"\u7cfb\u7edf\u5b89\u88c5\u5b8c\u6210\u540e\u5c31\u5b89\u88c5\u4e0b\u684c\u9762"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"apt install ubuntu-desktop\n")),(0,r.kt)("p",null,"\u7136\u540e\u91cd\u542f\uff0c\u8fdb\u5165\u56fe\u5f62\u754c\u9762"),(0,r.kt)("h3",{id:"\u5185\u6838\u66ff\u6362"},"\u5185\u6838\u66ff\u6362"),(0,r.kt)("p",null,"\u66ff\u6362\u4e0a\u5df2\u7ecf\u6253\u597d\u84dd\u7259\u8865\u4e01\u7684\u5185\u6838"),(0,r.kt)("p",null,"\u5185\u6838\u4e0b\u8f7d\u5730\u5740:\n",(0,r.kt)("a",{target:"_blank",href:n(8726).Z},"linux-kernel-rock5b-ax210-bluetooth.tar.gz")),(0,r.kt)("h4",{id:"\u5b89\u88c5\u5185\u6838"},"\u5b89\u88c5\u5185\u6838"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"root@rock-5b:~/kernel/packages# dpkg -i linux-image-5.10.66-blue-10-rockchip-g311cf1c0d_5.10.66-blue-10-rockchip_arm64.deb\n")),(0,r.kt)("h4",{id:"\u589e\u52a0sfi\u6587\u4ef6\u548cddc\u6587\u4ef6"},"\u589e\u52a0sfi\u6587\u4ef6\u548cddc\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://anduin.linuxfromscratch.org/sources/linux-firmware/intel/ibt-0041-0041.sfi  -O /lib/firmware/intel/ibt-0041-0041.sfi\nwget https://anduin.linuxfromscratch.org/sources/linux-firmware/intel/ibt-0041-0041.ddc -O /lib/firmware/intel/ibt-0041-0041.ddc\n")),(0,r.kt)("p",null,"\u6ce8\u610f\u4e0a\u9762\u662f\u5927O(\u662f\u54e6\u4e0d\u662f\u96f6\u4e0d\u662f\u5c0f\u54e6)\uff0c\u4e0d\u786e\u5b9a\u5c31\u68c0\u67e5\u4e00\u4e0b\u6587\u4ef6\u5185\u5bb9"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"root@rock-5b:~# ll /lib/firmware/intel/ibt-0041-0041.sfi\n-rw-r--r-- 1 root root 690128 Nov 19 04:46 /lib/firmware/intel/ibt-0041-0041.sfi\n")),(0,r.kt)("p",null,"\u68c0\u67e5\u542f\u52a8\u9879"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"root@rock-5b:~/kernel/packages# cat /boot/extlinux/extlinux.conf\n#timeout 10\n#menu title select kernel\n\nlabel kernel-5.10.66-blue-10-rockchip-g311cf1c0d\n    kernel /vmlinuz-5.10.66-blue-10-rockchip-g311cf1c0d\n    initrd /initrd.img-5.10.66-blue-10-rockchip-g311cf1c0d\n    devicetreedir /dtbs/5.10.66-blue-10-rockchip-g311cf1c0d\n    fdtoverlays  /dtbs/5.10.66-blue-10-rockchip-g311cf1c0d/rockchip/overlay/rk3588-uart7-m2.dtbo\n    append   root=UUID=67ad0e7b-3914-48d6-97c2-c48e5e0e405b earlycon=uart8250,mmio32,0xfeb50000 console=ttyFIQ0 console=tty1 consoleblank=0 loglevel=0 panic=10 rootwait rw init=/sbin/init rootfstype=ext4 cgroup_enable=cpuset cgroup_memory=1 cgroup_enable=memory swapaccount=1 irqchip.gicv3_pseudo_nmi=0 switolb=1 coherent_pool=2M\n\nlabel kernel-5.10.66-27-rockchip-gea60d388902d\n    kernel /vmlinuz-5.10.66-27-rockchip-gea60d388902d\n    initrd /initrd.img-5.10.66-27-rockchip-gea60d388902d\n    devicetreedir /dtbs/5.10.66-27-rockchip-gea60d388902d\n    fdtoverlays  /dtbs/5.10.66-27-rockchip-gea60d388902d/rockchip/overlay/rk3588-uart7-m2.dtbo\n    append   root=UUID=67ad0e7b-3914-48d6-97c2-c48e5e0e405b earlycon=uart8250,mmio32,0xfeb50000 console=ttyFIQ0 console=tty1 consoleblank=0 loglevel=0 panic=10 rootwait rw init=/sbin/init rootfstype=ext4 cgroup_enable=cpuset cgroup_memory=1 cgroup_enable=memory swapaccount=1 irqchip.gicv3_pseudo_nmi=0 switolb=1 coherent_pool=2M\n")),(0,r.kt)("p",null,"\u6ce8\u610f\u4e0a\u9762\u4fee\u6539\u7684blue\u7684\u6807\u7b7e\u7684\u5e94\u8be5\u6392\u5728\u4e0a\u9762\u7684\uff0c\u91cd\u542f\u677f\u5361"),(0,r.kt)("h3",{id:"\u6b63\u5e38\u542f\u52a8\u65e5\u5fd7"},"\u6b63\u5e38\u542f\u52a8\u65e5\u5fd7"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[   11.990430] usb 1-1.3: new full-speed USB device number 4 using ehci-platform\n[   12.135296] squashfs: version 4.0 (2009/01/31) Phillip Lougher\n[   12.209438] usb 1-1.3: New USB device found, idVendor=8087, idProduct=0032, bcdDevice= 0.00\n[   12.209450] usb 1-1.3: New USB device strings: Mfr=0, Product=0, SerialNumber=0\n[   12.213051] Bluetooth: hci0: Device revision is 0\n[   12.213057] Bluetooth: hci0: Secure boot is enabled\n[   12.213059] Bluetooth: hci0: OTP lock is enabled\n[   12.213061] Bluetooth: hci0: API lock is enabled\n[   12.213063] Bluetooth: hci0: Debug lock is disabled\n[   12.213065] Bluetooth: hci0: Minimum firmware build 1 week 10 2014\n[   12.213068] Bluetooth: hci0: Bootloader timestamp 2019.40 buildtype 1 build 38\n[   12.213804] Bluetooth: hci0: Found device firmware: intel/ibt-0041-0041.sfi\n[   12.787396] ttyFIQ ttyFIQ0: tty_port_close_start: tty->count = 1 port count = 2\n[   12.881301] fuse: init (API version 7.32)\n[   13.094139] FAT-fs (mmcblk0p1): utf8 is not a recommended IO charset for FAT filesystems, filesystem will be case sensitive!\n[   13.830192] Bluetooth: hci0: Waiting for firmware download to complete\n[   13.831152] Bluetooth: hci0: Firmware loaded in 1582218 usecs\n[   13.831226] Bluetooth: hci0: Waiting for device to boot\n[   13.857113] Bluetooth: hci0: Device booted in 25334 usecs\n[   13.858975] Bluetooth: hci0: Found Intel DDC parameters: intel/ibt-0041-0041.ddc\n[   13.861222] Bluetooth: hci0: Applying Intel DDC parameters completed\n[   13.865219] Bluetooth: hci0: Firmware timestamp 2022.39 buildtype 1 build 52159\n[   17.172415] r8125: enP4p65s0: link up\n[   17.172554] IPv6: ADDRCONF(NETDEV_CHANGE): enP4p65s0: link becomes ready\n[   20.887172] dwhdmi-rockchip fdea0000.hdmi: use tmds mode\n[   21.100098] dwhdmi-rockchip fdea0000.hdmi: use tmds mode\n[   37.005172] vcc3v3_pcie30: disabling\n")),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u6b63\u5e38\u7684\u52a0\u8f7d\u4e86\uff0c\u4e0a\u9762\u7684\u4fe1\u606f\u5c31\u662f\u84dd\u7259\u52a0\u8f7d\u8fd9\u90e8\u5206\u7684\u5185\u5bb9"),(0,r.kt)("h2",{id:"\u84dd\u7259\u4f7f\u7528\u4f53\u9a8c"},"\u84dd\u7259\u4f7f\u7528\u4f53\u9a8c"),(0,r.kt)("p",null,"AX210\u5982\u679c\u6ca1\u6709\u88c5\u5929\u7ebf\uff0c\u84dd\u7259\u9700\u8981\u572810cm\u5de6\u53f3\u7684\u8ddd\u79bb\u624d\u80fd\u8bc6\u522b\u7684\u6bd4\u8f83\u597d\uff0c\u8fdc\u4e86\u6709\u95ee\u9898\uff0c\u8fd9\u4e2a\u540e\u9762\u88c5\u4e86\u5929\u7ebf\u518d\u9a8c\u8bc1\u4fe1\u53f7\u60c5\u51b5"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"desktop-bluetoothicon.png",src:n(7896).Z,width:"1920",height:"1080"}),"\n\u53ef\u4ee5\u770b\u5230\u53f3\u4e0a\u89d2\u7684\u84dd\u7259\u56fe\u6807\u53ef\u4ee5\u70b9\u4e86\uff0c\u4e0d\u662f\u5b8c\u5168\u7070\u6389\u7684\uff0c\u6ca1\u6253\u9a71\u52a8\u65e0\u6cd5\u4f7f\u7528"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(1504).Z,width:"1920",height:"1080"}),"\n\u901a\u8fc7\u84dd\u7259\u52a9\u624b\u8fdb\u884c\u84dd\u7259\u7684\u914d\u5bf9\uff0c\u8fd9\u4e2a\u5730\u65b9\u914d\u5bf9\u9700\u8981\u4e24\u8fb9\u90fd\u786e\u8ba4\uff0c\u53ef\u4ee5\u5728\u7cfb\u7edf\u8bbe\u7f6e\u91cc\u9762\u914d\u5bf9"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(6443).Z,width:"1920",height:"1080"}),"\n\u8bc6\u522b\u5230\u7684\u8bbe\u5907"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(3841).Z,width:"1920",height:"1080"}),"\n\u53ef\u4ee5\u770b\u5230\u914d\u5bf9\u6210\u529f\uff0c\u663e\u793a\u7684\u662f\u5df2\u7ecf\u8fde\u63a5"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(2974).Z,width:"1920",height:"1080"}),"\n\u8bbe\u5907\u5217\u8868\u91cc\u9762\u8fd8\u6709\u5176\u5b83\u7684\u84dd\u7259\u8bbe\u5907"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4315).Z,width:"1920",height:"1080"}),"\n\u8fdb\u884c\u914d\u5bf9\u7684\u64cd\u4f5c"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(5968).Z,width:"1920",height:"1080"}),"\n\u8bbe\u7f6e\u84dd\u7259\u8bbe\u5907\u53ef\u4ee5\u88ab\u626b\u63cf"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4057).Z,width:"1920",height:"1080"}),"\n\u518d\u7cfb\u7edf\u8bbe\u7f6e\u91cc\u9762\u8fdb\u884c\u8fde\u63a5\uff0c\u53cc\u673a\u8bbe\u5907\u53ef\u4ee5\u4f20\u6587\u4ef6\u7ed9\u8bbe\u5907"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(3084).Z,width:"1920",height:"1080"}),"\n\u53ef\u4ee5\u770b\u5230\u4fe1\u53f7\n",(0,r.kt)("img",{src:n(2144).Z,width:"1920",height:"1080"}),"\n\u6587\u4ef6\u6b63\u5728\u4f20\u8f93\uff0c\u6ca1\u6709\u95ee\u9898"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4133).Z,width:"1920",height:"1080"}),"\nhci\u67e5\u8be2\u84dd\u7259\u4fe1\u606f\n",(0,r.kt)("img",{src:n(1721).Z,width:"1920",height:"1080"}),"\n\u624b\u673a\u8fderock5b\u4ee5\u540e\uff0c\u5728\u624b\u673a\u90a3\u8fb9\u64ad\u653e\u97f3\u4e50\uff0c\u5728rock5b\u4e0a\u9762\u53ef\u4ee5\u8bc6\u522b\u5230\uff0c\u5e76\u4e14\u80fd\u591f\u542c\u5230\u58f0\u97f3\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u97f3\u9891\u8bbe\u5907\u5904\u7406\u7684"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(2501).Z,width:"1920",height:"1080"}),"\nwifi\u8bc6\u522b\u4e5f\u662f\u6ca1\u6709\u95ee\u9898\u7684"),(0,r.kt)("h2",{id:"\u84dd\u7259\u5f53\u524d\u786e\u8ba4\u6d4b\u8bd5\u53ef\u4ee5\u7684\u529f\u80fd"},"\u84dd\u7259\u5f53\u524d\u786e\u8ba4\u6d4b\u8bd5\u53ef\u4ee5\u7684\u529f\u80fd"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"1\u3001\u84dd\u7259\u8fde\u63a5\uff08\u6b63\u5e38\uff09"),(0,r.kt)("li",{parentName:"ul"},"2\u3001rock5b\u7ed9\u624b\u673a\u53d1\u9001\u6587\u4ef6(\u6b63\u5e38)"),(0,r.kt)("li",{parentName:"ul"},"3\u3001\u624b\u673a\u901a\u8fc7\u84dd\u7259\u53d1\u9001\u97f3\u9891\u7ed9rock5b,rock5b\u64ad\u653e\u58f0\u97f3\uff08\u6b63\u5e38\uff09"),(0,r.kt)("li",{parentName:"ul"},"4\u3001\u9f20\u6807\u8fde\u63a5\u84dd\u7259\u5230rock5b(\u672a\u6d4b\u8bd5\uff0c\u8bbe\u5907\u5728\u8def\u4e0a)"),(0,r.kt)("li",{parentName:"ul"},"5\u3001\u84dd\u7259\u8fde\u63a5\u84dd\u7259\u8033\u673a\uff08\u4e0d\u6b63\u5e38\uff0c\u4e0d\u786e\u5b9a\u4fe1\u53f7\u95ee\u9898\uff0c\u8fd8\u662f\u8033\u673a\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u672c\u8eabubuntu\u901a\u8fc7\u84dd\u7259\u64ad\u653e\u9700\u8981\u8bbe\u7f6e\uff0c\u540e\u7eed\u786e\u8ba4\uff09")),(0,r.kt)("p",null,"\u4e0a\u9762\u53ef\u4ee5\u770b\u5230\uff0crock5b\u5230\u8bbe\u5907\u7684\u53ef\u4ee5\u53d1\u9001\uff0c\u8bbe\u5907\u5230rock5b\u4e5f\u662f\u80fd\u53d1\u9001\u7684\uff0c\u4e24\u8fb9\u90fd\u662f\u901a\u8def\u7684"),(0,r.kt)("h2",{id:"\u76f8\u5173\u8d44\u6e90"},"\u76f8\u5173\u8d44\u6e90"),(0,r.kt)("h3",{id:"patch\u6587\u4ef6"},"patch\u6587\u4ef6"),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:n(1773).Z},"AX210-bluetooth.patch"),"\npatch\u6587\u4ef6\u662f\u4ee5rock5b\u5b98\u65b9\u7684\u5185\u6838\u505a\u7684patch\u6587\u4ef6,\u5c31\u662f\u4e0b\u9762\u8fd9\u4e2a\u5206\u652f\u7684"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone -b stable-5.10-rock5 https://github.com/radxa/kernel.git\n")),(0,r.kt)("p",null,"\u5728\u5185\u6838\u4ee3\u7801\u7684\u4e0a\u4e00\u5c42\u76ee\u5f55\u91cc\u9762\u4e0b\u8f7d\u4e0a\u9762\u7684patch\u6587\u4ef6\uff0c\u7136\u540e\u6253\u4e0apatch"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"root@ubuntu:~/rk3588-sdk/# wget \u3010\u4e0a\u9762\u7684\u94fe\u63a5\u3011\nroot@ubuntu:~/rk3588-sdk/# cd kernel\nroot@ubuntu:~/rk3588-sdk/kernel# patch -p1 < ../AX210-bluetooth.patch\npatching file drivers/bluetooth/btintel.c\npatching file drivers/bluetooth/btintel.h\npatching file drivers/bluetooth/btusb.c\n")),(0,r.kt)("p",null,"\u7136\u540e\u7f16\u8bd1\u6253\u5305\u5373\u53ef"),(0,r.kt)("h3",{id:"\u6216\u8005\u76f4\u63a5\u4e0b\u8f7d\u6211\u7684\u5206\u652f"},"\u6216\u8005\u76f4\u63a5\u4e0b\u8f7d\u6211\u7684\u5206\u652f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"root@ubuntu:~/rk3588-sdk/# git clone -b stable-5.10-rock5   --single-branch --depth 1   https://github.com/zphj1987/kernel.git\n")),(0,r.kt)("p",null,"\u8fd9\u4e2a\u5206\u652f\u5df2\u7ecf\u6253\u597d\u4e86\u84dd\u7259\u7684\u8865\u4e01\u7684"),(0,r.kt)("p",null,"\u5982\u679c\u8003\u8651\u8ddf\u5b98\u65b9\u7684\u7248\u672c\u7684\u8bdd\uff0c\u5c31\u7528\u4e0a\u9762\u7684\u6253patch\u7684\u6587\u4ef6\u7684\u65b9\u5f0f"),(0,r.kt)("h3",{id:"\u6216\u8005\u7528\u6211\u6253\u597d\u7684\u5185\u6838deb\u6587\u4ef6\u5982\u4e0b"},"\u6216\u8005\u7528\u6211\u6253\u597d\u7684\u5185\u6838deb\u6587\u4ef6\u5982\u4e0b"),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:n(8726).Z},"linux-kernel-rock5b-ax210-bluetooth.tar.gz")),(0,r.kt)("h2",{id:"\u6392\u9519\u6307\u5357"},"\u6392\u9519\u6307\u5357"),(0,r.kt)("h3",{id:"\u9519\u8befreading-intel-version-information-failed"},"\u9519\u8bef\uff1aReading Intel version information failed"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[   45.961353] Bluetooth: hci0: Intel reset sent to retry FW download\n[   46.183435] usb 1-1.3: USB disconnect, device number 50\n[   46.512737] usb 1-1.3: new full-speed USB device number 51 using ehci-platform\n[   46.729278] usb 1-1.3: New USB device found, idVendor=8087, idProduct=0032, bcdDevice= 0.00\n[   46.729313] usb 1-1.3: New USB device strings: Mfr=0, Product=0, SerialNumber=0\n[   46.734253] Bluetooth: hci0: Reading Intel version information failed (-22)\n[   46.734305] Bluetooth: hci0: Intel Read version failed (-22)\n[   46.734415] Bluetooth: hci0: Intel reset sent to retry FW download\n[   46.950300] usb 1-1.3: USB disconnect, device number 51\n")),(0,r.kt)("p",null,"\u672a\u5b89\u88c5\u6253\u8865\u4e01\u7684\u5185\u6838\uff0c\u5b89\u88c5\u5373\u53ef"),(0,r.kt)("h3",{id:"\u9519\u8bef-direct-firmware-load-for-intelibt-0041-0041sfi-failed-with-error--2"},"\u9519\u8bef\uff1a Direct firmware load for intel/ibt-0041-0041.sfi failed with error -2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[    9.790666] Bluetooth: hci0: Debug lock is disabled\n[    9.790669] Bluetooth: hci0: Minimum firmware build 1 week 10 2014\n[    9.790672] Bluetooth: hci0: Bootloader timestamp 2019.40 buildtype 1 build 38\n[    9.814394] bluetooth hci0: Direct firmware load for intel/ibt-0041-0041.sfi failed with error -2\n[    9.814410] Bluetooth: hci0: Failed to load Intel firmware file (-2)\n[    9.819751] Intel(R) Wireless WiFi driver for Linux\n[    9.829338] iwlwifi 0002:21:00.0: enabling device (0000 -> 0002)\n[    9.872571] iwlwifi 0002:21:00.0: api flags index 2 larger than supported by driver\n[    9.872638] iwlwifi 0002:21:00.0: TLV_FW_FSEQ_VERSION: FSEQ Version: 93.8.63.28\n")),(0,r.kt)("p",null,"\u672a\u4e0b\u8f7dsfi\u6587\u4ef6\uff0c\u4e0b\u8f7d\u5373\u53ef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://anduin.linuxfromscratch.org/sources/linux-firmware/intel/ibt-0041-0041.sfi  -o /lib/firmware/intel/ibt-0041-0041.sfi\n")),(0,r.kt)("h2",{id:"\u9519\u8befbluetooth-hci0-failed-to-load-intel-ddc-file-intelibt-0041-0041ddc--2"},"\u9519\u8bef\uff1aBluetooth: hci0: Failed to load Intel DDC file intel/ibt-0041-0041.ddc (-2)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[   14.499042] Bluetooth: hci0: Waiting for firmware download to complete\n[   14.499117] Bluetooth: hci0: Firmware loaded in 1556348 usecs\n[   14.499215] Bluetooth: hci0: Waiting for device to boot\n[   14.525032] Bluetooth: hci0: Device booted in 25277 usecs\n[   14.525162] Bluetooth: hci0: Failed to load Intel DDC file intel/ibt-0041-0041.ddc (-2)\n[   14.529103] Bluetooth: hci0: Firmware timestamp 2022.39 buildtype 1 build 52159\n[   17.810272] r8125: enP4p65s0: link up\n[   17.810336] IPv6: ADDRCONF(NETDEV_CHANGE): enP4p65s0:\n")),(0,r.kt)("p",null,"\u89e3\u51b3\u529e\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://anduin.linuxfromscratch.org/sources/linux-firmware/intel/ibt-0041-0041.ddc -O /lib/firmware/intel/ibt-0041-0041.ddc\n")))}u.isMDXComponent=!0},1773:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/files/AX210-bluetooth-44481fbe127629d168e8091ea7d36259.patch"},8726:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/files/linux-kernel-rock5b-ax210-bluetooth.tar-eeb21e18829ce21dae482cffa641fcd2.gz"},524:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/3EA36E43838FFF77E315DE65AD2BD8FD-2228509325ace98de3cc9cacda3a4ce8.jpg"},9747:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/QQ20221125-0-ba30f1748ca072d9855d86e27d5e3599.jpg"},7896:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/desktop-bluetoothicon-ddd7fed500da7ac5bedcc997e8c4add0.png"},2501:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/wifi\u7684\u8bc6\u522b-0eb0d7e91b72dc54cbd28dbcdcb410bb.png"},2144:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u4ecerock5b\u5f80\u624b\u673a\u4f20\u6587\u4ef6-0da89475ca18cfe93b71c0f739427a95.png"},3084:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u4fe1\u53f7\u67e5\u770b-e7026982d071f13a85758103ab71b3b9.png"},1721:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u624b\u673a\u901a\u8fc7\u84dd\u7259\u6295\u653e\u97f3\u9891\u7ed9rock5b-14a0fe573e5e9a5b5bcdda92ddbd3aff.png"},6443:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u626b\u63cf\u84dd\u7259\u8bbe\u5907-229087c2957b5a9f1546671c3298e873.png"},4057:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u7cfb\u7edf\u8bbe\u7f6e\u91cc\u9762\u8fdb\u884c\u8fde\u63a5-329082d4a6d535e446ce707c9e387ca0.png"},1504:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u84dd\u7259\u52a9\u624b-e72ed026eefffddd37158ad16f7fab13.png"},4133:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u84dd\u7259\u8bbe\u5907\u4fe1\u606f-185c1c4c5ec892254295abf19e21a768.png"},2974:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u8bbe\u5907\u5217\u8868\u67e5\u770b-f803d471584e9afa1cabe29a613612dc.png"},5968:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u8bbe\u7f6e\u53ef\u4ee5\u88ab\u626b\u63cf-228669c0b603cf0dbf7e168e443af841.png"},4315:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u8fdb\u884c\u914d\u5bf9-e63aa33b4eda51c62eb82e413af080fb.png"},3841:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/\u914d\u5bf9\u6210\u529f-ac591af6ce37115d0d5fe82a29cc4a5a.png"}}]);